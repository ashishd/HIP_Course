<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIP helper functions: hip_helper.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HIP helper functions
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hip_helper.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper functions for HIP.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;hip/hip_runtime.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hip_helper.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="hip__helper_8hpp__incl.png" border="0" usemap="#ahip__helper_8hpp" alt=""/></div>
<map name="ahip__helper_8hpp" id="ahip__helper_8hpp">
<area shape="rect" title="Helper functions for HIP." alt="" coords="467,5,584,32"/>
<area shape="rect" title=" " alt="" coords="5,80,80,107"/>
<area shape="rect" title=" " alt="" coords="104,80,184,107"/>
<area shape="rect" title=" " alt="" coords="208,80,269,107"/>
<area shape="rect" title=" " alt="" coords="294,80,359,107"/>
<area shape="rect" title=" " alt="" coords="384,80,435,107"/>
<area shape="rect" title=" " alt="" coords="459,80,509,107"/>
<area shape="rect" title=" " alt="" coords="533,80,603,107"/>
<area shape="rect" title=" " alt="" coords="627,80,693,107"/>
<area shape="rect" title=" " alt="" coords="718,80,781,107"/>
<area shape="rect" title=" " alt="" coords="805,80,872,107"/>
<area shape="rect" title=" " alt="" coords="896,80,963,107"/>
<area shape="rect" title=" " alt="" coords="987,80,1123,107"/>
</map>
</div>
</div>
<p><a href="hip__helper_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5e315765b407b6d55c716aacd3d729d3"><td class="memItemLeft" align="right" valign="top"><a id="a5e315765b407b6d55c716aacd3d729d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAULTY_TIME</b>&#160;&#160;&#160;-1.0</td></tr>
<tr class="separator:a5e315765b407b6d55c716aacd3d729d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a576ec48a9bb2ce0f04cb7de06ca64281"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a576ec48a9bb2ce0f04cb7de06ca64281">H_ERRCHK</a>(cmd)</td></tr>
<tr class="memdesc:a576ec48a9bb2ce0f04cb7de06ca64281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to check error codes.  <a href="hip__helper_8hpp.html#a576ec48a9bb2ce0f04cb7de06ca64281">More...</a><br /></td></tr>
<tr class="separator:a576ec48a9bb2ce0f04cb7de06ca64281"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a50caffc9419f922455a1825a79baca3d"><td class="memItemLeft" align="right" valign="top"><a id="a50caffc9419f922455a1825a79baca3d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a50caffc9419f922455a1825a79baca3d">h_errchk</a> (hipError_t errcode, const char *message)</td></tr>
<tr class="memdesc:a50caffc9419f922455a1825a79baca3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Examine an error code and exit if necessary. <br /></td></tr>
<tr class="separator:a50caffc9419f922455a1825a79baca3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81777cddf6f3ed41fc5430da4b34ea67"><td class="memItemLeft" align="right" valign="top"><a id="a81777cddf6f3ed41fc5430da4b34ea67"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a81777cddf6f3ed41fc5430da4b34ea67">h_get_cache_line_size</a> ()</td></tr>
<tr class="memdesc:a81777cddf6f3ed41fc5430da4b34ea67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the L1 cache line size. <br /></td></tr>
<tr class="separator:a81777cddf6f3ed41fc5430da4b34ea67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a262cc2b41f368f0f34681733f1527b47"><td class="memItemLeft" align="right" valign="top"><a id="a262cc2b41f368f0f34681733f1527b47"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a262cc2b41f368f0f34681733f1527b47">h_gcd</a> (size_t a, size_t b)</td></tr>
<tr class="memdesc:a262cc2b41f368f0f34681733f1527b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the greatest common divisor for two numbers. <br /></td></tr>
<tr class="separator:a262cc2b41f368f0f34681733f1527b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a906739a6b6d7b464a629815d9783e6fb"><td class="memItemLeft" align="right" valign="top"><a id="a906739a6b6d7b464a629815d9783e6fb"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a906739a6b6d7b464a629815d9783e6fb">h_lcm</a> (size_t a, size_t b)</td></tr>
<tr class="memdesc:a906739a6b6d7b464a629815d9783e6fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the least common multiple for two numbers. <br /></td></tr>
<tr class="separator:a906739a6b6d7b464a629815d9783e6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73116fd7cbfc410a43884edd96fcae2"><td class="memItemLeft" align="right" valign="top"><a id="ac73116fd7cbfc410a43884edd96fcae2"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#ac73116fd7cbfc410a43884edd96fcae2">h_get_alignment</a> ()</td></tr>
<tr class="memdesc:ac73116fd7cbfc410a43884edd96fcae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a "safe" value for memory alignment. <br /></td></tr>
<tr class="separator:ac73116fd7cbfc410a43884edd96fcae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a6e2822f971badfeb6c0d5bbf2d0d6"><td class="memItemLeft" align="right" valign="top"><a id="af9a6e2822f971badfeb6c0d5bbf2d0d6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#af9a6e2822f971badfeb6c0d5bbf2d0d6">h_check_managed</a> (int dev_index)</td></tr>
<tr class="memdesc:af9a6e2822f971badfeb6c0d5bbf2d0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if device supports managed memory, exit if it does not. <br /></td></tr>
<tr class="separator:af9a6e2822f971badfeb6c0d5bbf2d0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeaded96e18c452a283adc6bf2567bd8"><td class="memItemLeft" align="right" valign="top"><a id="abeaded96e18c452a283adc6bf2567bd8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#abeaded96e18c452a283adc6bf2567bd8">h_show_options</a> (const char *name)</td></tr>
<tr class="memdesc:abeaded96e18c452a283adc6bf2567bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show command line options. <br /></td></tr>
<tr class="separator:abeaded96e18c452a283adc6bf2567bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf9723fe030e9a0f271e4dd9cc32be27"><td class="memItemLeft" align="right" valign="top"><a id="aaf9723fe030e9a0f271e4dd9cc32be27"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#aaf9723fe030e9a0f271e4dd9cc32be27">h_parse_args</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:aaf9723fe030e9a0f271e4dd9cc32be27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse command line arguments to extract device index to use. <br /></td></tr>
<tr class="separator:aaf9723fe030e9a0f271e4dd9cc32be27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073019af810b43f1072f4790d133225f"><td class="memItemLeft" align="right" valign="top"><a id="a073019af810b43f1072f4790d133225f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a073019af810b43f1072f4790d133225f">h_reset_devices</a> (int num_devices)</td></tr>
<tr class="memdesc:a073019af810b43f1072f4790d133225f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset primary contexts on all compute devices. <br /></td></tr>
<tr class="separator:a073019af810b43f1072f4790d133225f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f43d33ed7ee7b6a1337b62428190fa"><td class="memItemLeft" align="right" valign="top"><a id="a78f43d33ed7ee7b6a1337b62428190fa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a78f43d33ed7ee7b6a1337b62428190fa">h_acquire_devices</a> (int *num_devices, int default_device_id)</td></tr>
<tr class="memdesc:a78f43d33ed7ee7b6a1337b62428190fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a primary context for all HIP devices. <br /></td></tr>
<tr class="separator:a78f43d33ed7ee7b6a1337b62428190fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0408e7749c87dcc5933807dde4f92b51"><td class="memItemLeft" align="right" valign="top"><a id="a0408e7749c87dcc5933807dde4f92b51"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a0408e7749c87dcc5933807dde4f92b51">h_report_on_device</a> (int device_id)</td></tr>
<tr class="memdesc:a0408e7749c87dcc5933807dde4f92b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to report information on a compute device. <br /></td></tr>
<tr class="separator:a0408e7749c87dcc5933807dde4f92b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe2dd0bf256ab42059ac3f3ac69b825"><td class="memItemLeft" align="right" valign="top"><a id="aebe2dd0bf256ab42059ac3f3ac69b825"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#aebe2dd0bf256ab42059ac3f3ac69b825">h_release_devices</a> (int num_devices)</td></tr>
<tr class="memdesc:aebe2dd0bf256ab42059ac3f3ac69b825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release compute devices. <br /></td></tr>
<tr class="separator:aebe2dd0bf256ab42059ac3f3ac69b825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7ae6595b28c0d9c878f9e212f1ae9b"><td class="memItemLeft" align="right" valign="top"><a id="aeb7ae6595b28c0d9c878f9e212f1ae9b"></a>
hipStream_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#aeb7ae6595b28c0d9c878f9e212f1ae9b">h_create_streams</a> (size_t nstreams, int synchronise)</td></tr>
<tr class="memdesc:aeb7ae6595b28c0d9c878f9e212f1ae9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a number of streams. <br /></td></tr>
<tr class="separator:aeb7ae6595b28c0d9c878f9e212f1ae9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2134191226c4beaad0d5b4c3a5338210"><td class="memItemLeft" align="right" valign="top"><a id="a2134191226c4beaad0d5b4c3a5338210"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a2134191226c4beaad0d5b4c3a5338210">h_release_streams</a> (size_t nstreams, hipStream_t *streams)</td></tr>
<tr class="memdesc:a2134191226c4beaad0d5b4c3a5338210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release streams that were created. <br /></td></tr>
<tr class="separator:a2134191226c4beaad0d5b4c3a5338210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab160b4acc393055582d981854564d788"><td class="memItemLeft" align="right" valign="top"><a id="ab160b4acc393055582d981854564d788"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#ab160b4acc393055582d981854564d788">h_get_io_rate_MBs</a> (float elapsed_ms, size_t nbytes)</td></tr>
<tr class="memdesc:ab160b4acc393055582d981854564d788"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IO rate in MB/s for bytes read or written. <br /></td></tr>
<tr class="separator:ab160b4acc393055582d981854564d788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c5c0d9282072bf4408a1fea28be152c"><td class="memItemLeft" align="right" valign="top"><a id="a3c5c0d9282072bf4408a1fea28be152c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a3c5c0d9282072bf4408a1fea28be152c">h_get_event_time_ms</a> (hipEvent_t t1, hipEvent_t t2, const char *message, size_t *nbytes)</td></tr>
<tr class="memdesc:a3c5c0d9282072bf4408a1fea28be152c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get how much time elapsed between two events that were recorded. <br /></td></tr>
<tr class="separator:a3c5c0d9282072bf4408a1fea28be152c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e4313d4850500675e9a0d2c575a319"><td class="memItemLeft" align="right" valign="top"><a id="a10e4313d4850500675e9a0d2c575a319"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a10e4313d4850500675e9a0d2c575a319">h_fit_blocks</a> (dim3 *grid_nblocks, dim3 global_size, dim3 block_size)</td></tr>
<tr class="memdesc:a10e4313d4850500675e9a0d2c575a319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make grid_nblocks big enough to fit a grid of at least global_size. <br /></td></tr>
<tr class="separator:a10e4313d4850500675e9a0d2c575a319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a7f1510514049828e9ff001336135e"><td class="memItemLeft" align="right" valign="top"><a id="ae6a7f1510514049828e9ff001336135e"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#ae6a7f1510514049828e9ff001336135e">h_alloc</a> (size_t nbytes)</td></tr>
<tr class="memdesc:ae6a7f1510514049828e9ff001336135e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate aligned memory for use on the host. <br /></td></tr>
<tr class="separator:ae6a7f1510514049828e9ff001336135e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6558ed854b62f8f0935d34200f8d1c67"><td class="memItemLeft" align="right" valign="top"><a id="a6558ed854b62f8f0935d34200f8d1c67"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a6558ed854b62f8f0935d34200f8d1c67">h_read_binary</a> (const char *filename, size_t *nbytes)</td></tr>
<tr class="memdesc:a6558ed854b62f8f0935d34200f8d1c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the file for reading and use std::fread to read in the file. <br /></td></tr>
<tr class="separator:a6558ed854b62f8f0935d34200f8d1c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b52e39234d8122286af58b508f7dc5"><td class="memItemLeft" align="right" valign="top"><a id="ad9b52e39234d8122286af58b508f7dc5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#ad9b52e39234d8122286af58b508f7dc5">h_write_binary</a> (void *data, const char *filename, size_t nbytes)</td></tr>
<tr class="memdesc:ad9b52e39234d8122286af58b508f7dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write binary data to file. <br /></td></tr>
<tr class="separator:ad9b52e39234d8122286af58b508f7dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5dea353f5f5be7a44b575cd2f9d13c6"><td class="memItemLeft" align="right" valign="top"><a id="ae5dea353f5f5be7a44b575cd2f9d13c6"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#ae5dea353f5f5be7a44b575cd2f9d13c6">h_run_kernel</a> (const void *kernel_function, void **kernel_args, dim3 global_size, dim3 block_size, size_t *shared_bytes, hipStream_t stream, int non_ordered_launch, void(*prep_kernel_function)(const void *, void **, dim3, dim3, size_t *, void **), void **prep_kernel_args)</td></tr>
<tr class="memdesc:ae5dea353f5f5be7a44b575cd2f9d13c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to run a kernel. <br /></td></tr>
<tr class="separator:ae5dea353f5f5be7a44b575cd2f9d13c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5582ab821d5731efab05fd3a7aef6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a2d5582ab821d5731efab05fd3a7aef6e">h_optimise_block</a> (int argc, char **argv, const void *kernel_function, void **kernel_args, dim3 global_size, dim3 *default_block_size, size_t nstats, float prior_times, void(*prep_kernel_function)(const void *, void **, dim3, dim3, size_t *, void **), void **prep_kernel_args)</td></tr>
<tr class="separator:a2d5582ab821d5731efab05fd3a7aef6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0eb9aced259361cb9ae48e6d3abf06d"><td class="memTemplParams" colspan="2"><a id="af0eb9aced259361cb9ae48e6d3abf06d"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:af0eb9aced259361cb9ae48e6d3abf06d"><td class="memTemplItemLeft" align="right" valign="top">__global__ void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>h_copy_kernel3D</b> (T *dst, T *src, size_t offset_dst, size_t offset_src, dim3 dims_dst, dim3 dims_src, dim3 region)</td></tr>
<tr class="separator:af0eb9aced259361cb9ae48e6d3abf06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599c7c96531b63708d0c15c2555d3c53"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a599c7c96531b63708d0c15c2555d3c53"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="hip__helper_8hpp.html#a599c7c96531b63708d0c15c2555d3c53">h_memcpy3D</a> (T *dst, dim3 dims_dst, T *src, dim3 dims_src, dim3 region, hipStream_t stream, size_t offset_dst=0, size_t offset_src=0)</td></tr>
<tr class="separator:a599c7c96531b63708d0c15c2555d3c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper functions for HIP. </p>
<p>Written by Dr. Toby Potter for the Commonwealth Scientific and Industrial Research Organisation of Australia (CSIRO). </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a576ec48a9bb2ce0f04cb7de06ca64281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a576ec48a9bb2ce0f04cb7de06ca64281">&#9670;&nbsp;</a></span>H_ERRCHK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define H_ERRCHK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cmd</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{\</div>
<div class="line">    std::string file = __FILE__;\</div>
<div class="line">    std::string mesg = file + <span class="stringliteral">&quot;:&quot;</span> + std::to_string(__LINE__);\</div>
<div class="line">    h_errchk(cmd, mesg.c_str());\</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Macro to check error codes. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a599c7c96531b63708d0c15c2555d3c53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a599c7c96531b63708d0c15c2555d3c53">&#9670;&nbsp;</a></span>h_memcpy3D()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void h_memcpy3D </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>dims_dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>dims_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hipStream_t&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset_dst</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset_src</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to perform a 3D memory copy either between allocations on a device or between host and device if the host memory is pinned and mapped or managed </p>

</div>
</div>
<a id="a2d5582ab821d5731efab05fd3a7aef6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d5582ab821d5731efab05fd3a7aef6e">&#9670;&nbsp;</a></span>h_optimise_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void h_optimise_block </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>kernel_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>kernel_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3&#160;</td>
          <td class="paramname"><em>global_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dim3 *&#160;</td>
          <td class="paramname"><em>default_block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nstats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>prior_times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const void *, void **, dim3, dim3, size_t *, void **)&#160;</td>
          <td class="paramname"><em>prep_kernel_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>prep_kernel_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to optimise the block size if command line arguments are &ndash;block_file or -block_file. Read an input file called input_block.dat of type == uint32_t, and dimensions == (nexperiments, ndim) with row major ordering.</p>
<p>Writes to a file called output_block.dat of type == double and dimensions == (nexperiments, 2) with row major ordering and where each line is (avg, stdev) in milliseconds </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
